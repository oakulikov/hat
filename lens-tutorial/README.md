# Изучение линз в Haskell

Этот учебник представляет собой введение в линзы в Haskell, которые являются мощным инструментом для работы с вложенными структурами данных.

## Содержание

1. [Введение в линзы](01_IntroToLenses.hs) - Основные концепции и определение линз
2. [Стандартные линзы](02_CommonLenses.hs) - Обзор стандартных линз в библиотеке lens
3. [Создание собственных линз](03_CustomLenses.hs) - Как создавать собственные линзы
4. [Композиция линз](04_LensComposition.hs) - Как комбинировать линзы для работы с вложенными структурами
5. [Практическое применение линз](05_PracticalLenses.hs) - Реальные примеры использования линз
6. [Призмы и траверсалы](06_PrismsAndTraversals.hs) - Другие оптики, связанные с линзами

## Запуск примеров

Для запуска примеров используйте скрипт `run-example.sh`:

```bash
./run-example.sh 1  # Запустит пример из 01_IntroToLenses.hs
```

## Зависимости

Для запуска примеров вам потребуются следующие библиотеки:

- **lens** - основная библиотека для работы с линзами
- **containers** - для работы с Map и Set
- **text** - для работы с Text
- **vector** - для работы с Vector

### Установка зависимостей

#### Используя Cabal

```bash
cabal install --lib lens containers text vector
```

#### Используя Stack

```bash
stack install lens containers text vector
```

### Запуск без установки библиотек

Если вы не хотите устанавливать библиотеки, вы можете запустить примеры с помощью GHCi, указав нужные пакеты:

```bash
ghci -package lens -package containers -package text -package vector 01_IntroToLenses.hs
```

### Примечание

Первый пример (01_IntroToLenses.hs) не требует внешних библиотек и может быть запущен без установки дополнительных пакетов. Остальные примеры используют библиотеку lens и другие зависимости.

## Что такое линзы?

Линзы - это абстракция в функциональном программировании, которая позволяет работать с вложенными структурами данных в декларативном стиле. Они решают проблему обновления вложенных полей в неизменяемых структурах данных, делая код более читаемым и поддерживаемым.

Основные преимущества линз:

1. **Композиция** - Линзы можно комбинировать для доступа к глубоко вложенным структурам
2. **Единый интерфейс** - Одинаковый способ работы с разными структурами данных
3. **Декларативность** - Код с линзами более декларативный и выразительный
4. **Переиспользуемость** - Линзы можно переиспользовать в разных частях кода

## Предварительные требования

Для работы с линзами в Haskell обычно используется библиотека `lens`. Однако в этом учебнике мы сначала рассмотрим, как реализовать простые линзы с нуля, чтобы понять их внутреннее устройство, а затем перейдем к использованию библиотеки `lens`.

Для установки библиотеки `lens` можно использовать Cabal или Stack:

```bash
# Используя Cabal
cabal install lens

# Используя Stack
stack install lens
```

## Дополнительные ресурсы

- [Документация библиотеки lens](https://hackage.haskell.org/package/lens)
- [Lens Tutorial by Gabriel Gonzalez](https://artyom.me/lens)
- [Lens over Tea by Artyom Kazak](https://artyom.me/lens-over-tea-1)
