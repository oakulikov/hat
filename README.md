# Изучение функциональных абстракций в Haskell

Этот репозиторий содержит учебные материалы для изучения функциональных абстракций в Haskell, включая функторы, аппликативные функторы, монады и линзы.

## Структура репозитория

Репозиторий содержит четыре основных учебных курса:

### 1. Учебное пособие по функторам (functor-tutorial/)

Функторы - это абстракция, которая позволяет применять функции к значениям, находящимся в контексте.

- [Введение в функторы](functor-tutorial/01_IntroToFunctors.hs) - Основные концепции и определение функторов
- [Стандартные функторы](functor-tutorial/02_CommonFunctors.hs) - Обзор стандартных функторов в Haskell
- [Законы функторов](functor-tutorial/03_FunctorLaws.hs) - Законы, которым должны удовлетворять функторы
- [Создание собственных функторов](functor-tutorial/04_CustomFunctors.hs) - Как создавать собственные функторы
- [Практическое применение функторов](functor-tutorial/05_PracticalFunctors.hs) - Реальные примеры использования функторов
- [Функторы и другие абстракции](functor-tutorial/06_FunctorsAndBeyond.hs) - Связь функторов с другими абстракциями

### 2. Учебное пособие по аппликативным функторам (applicative-tutorial/)

Аппликативные функторы - это расширение функторов, которое позволяет применять функции в контексте к значениям в контексте.

- [Введение в аппликативные функторы](applicative-tutorial/01_IntroToApplicatives.hs) - Базовая теория и концепции аппликативных функторов
- [Аппликативный функтор List](applicative-tutorial/02_ListApplicative.hs) - Недетерминированные вычисления с аппликативным функтором List
- [Аппликативный функтор IO](applicative-tutorial/03_IOApplicative.hs) - Работа с вводом-выводом через аппликативный функтор IO
- [Создание собственных аппликативных функторов](applicative-tutorial/04_CustomApplicatives.hs) - Как создавать собственные аппликативные функторы
- [Практическое применение аппликативных функторов](applicative-tutorial/05_PracticalApplicatives.hs) - Решение реальных задач с помощью аппликативных функторов
- [Аппликативные функторы и монады](applicative-tutorial/06_ApplicativesAndMonads.hs) - Связь между аппликативными функторами и монадами

### 3. Учебное пособие по монадам (monad-tutorial/)

Монады - это расширение аппликативных функторов, которое позволяет последовательно комбинировать вычисления в контексте.

- [Введение в монады](monad-tutorial/01_IntroToMonads.hs) - Базовая теория и концепции монад
- [Монады Maybe и Either](monad-tutorial/02_MaybeAndEitherMonads.hs) - Обработка ошибок с помощью монад Maybe и Either
- [Монады List и IO](monad-tutorial/03_ListAndIOMonads.hs) - Недетерминированные вычисления и ввод-вывод
- [Монады State и Reader](monad-tutorial/04_StateAndReaderMonads.hs) - Работа с состоянием и окружением
- [Монада Writer и создание собственных монад](monad-tutorial/05_WriterAndCustomMonads.hs) - Логирование и создание собственных монад
- [Трансформеры монад](monad-tutorial/06_MonadTransformers.hs) - Комбинирование монад с помощью трансформеров

### 4. Учебное пособие по линзам (lens-tutorial/)

Линзы - это абстракция, которая позволяет работать с вложенными структурами данных в функциональном стиле.

- [Введение в линзы](lens-tutorial/01_IntroToLenses.hs) - Основные концепции и определение линз
- [Стандартные линзы](lens-tutorial/02_CommonLenses.hs) - Обзор стандартных линз в библиотеке lens
- [Создание собственных линз](lens-tutorial/03_SimpleLenses.hs) - Как создавать собственные линзы
- [Композиция линз](lens-tutorial/04_LensComposition.hs) - Как комбинировать линзы для работы с вложенными структурами
- [Практическое применение линз](lens-tutorial/05_PracticalLenses.hs) - Реальные примеры использования линз
- [Призмы и траверсалы](lens-tutorial/06_PrismsAndTraversals.hs) - Другие оптики, связанные с линзами

## Иерархия типовых классов в Haskell

Функциональное программирование в Haskell основано на нескольких ключевых абстракциях, которые образуют иерархию типовых классов:

1. **Functor** - Позволяет применять функции к значениям в контексте
   - `fmap :: (a -> b) -> f a -> f b`

2. **Applicative** - Расширяет Functor, позволяя применять функции в контексте к значениям в контексте
   - `pure :: a -> f a`
   - `(<*>) :: f (a -> b) -> f a -> f b`

3. **Monad** - Расширяет Applicative, позволяя последовательно комбинировать вычисления в контексте
   - `return :: a -> m a`
   - `(>>=) :: m a -> (a -> m b) -> m b`

4. **Traversable** - Позволяет обходить структуру данных, применяя эффекты в определенном порядке
   - `traverse :: Applicative f => (a -> f b) -> t a -> f (t b)`

5. **Foldable** - Позволяет свертывать структуру данных в одно значение
   - `foldr :: (a -> b -> b) -> b -> t a -> b`

Линзы не являются частью стандартной иерархии типовых классов, но они предоставляют мощный инструмент для работы с вложенными структурами данных.

## Рекомендуемый порядок изучения

1. Начните с изучения функторов, так как они являются базовой абстракцией
2. Затем переходите к аппликативным функторам, которые расширяют функторы
3. После этого изучите монады, которые расширяют аппликативные функторы
4. Наконец, перейдите к линзам, которые предоставляют удобный способ работы с вложенными структурами данных

## Запуск примеров

Для запуска примеров используйте скрипты `run-example.sh` в каждой директории:

```bash
# Для запуска примера из учебника по функторам
cd functor-tutorial
./run-example.sh 1  # Запустит пример из 01_IntroToFunctors.hs

# Для запуска примера из учебника по аппликативным функторам
cd applicative-tutorial
./run-example.sh 1  # Запустит пример из 01_IntroToApplicatives.hs

# Для запуска примера из учебника по монадам
cd monad-tutorial
./run-example.sh 1  # Запустит пример из 01_IntroToMonads.hs

# Для запуска примера из учебника по линзам
cd lens-tutorial
./run-example.sh 1  # Запустит пример из 01_IntroToLenses.hs
```

## Требования

Для запуска примеров вам потребуется:

1. GHC (Glasgow Haskell Compiler)
2. Несколько библиотек Haskell:
   - lens (для примеров с линзами)
   - containers (для Map и Set)
   - text (для работы с Text)
   - vector (для работы с Vector)

### Установка GHC

```bash
# На Ubuntu/Debian
sudo apt-get install ghc

# На macOS с Homebrew
brew install ghc
```

### Установка библиотек

#### Используя Cabal

```bash
# Создайте новый проект
mkdir -p haskell-tutorial
cd haskell-tutorial
cabal init

# Отредактируйте файл .cabal, добавив зависимости
# build-depends: base, lens, containers, text, vector

# Установите зависимости
cabal install --lib lens containers text vector
```

#### Используя Stack

```bash
# Создайте новый проект
stack new haskell-tutorial
cd haskell-tutorial

# Отредактируйте файл package.yaml, добавив зависимости
# dependencies:
# - base
# - lens
# - containers
# - text
# - vector

# Установите зависимости
stack install lens containers text vector
```

### Запуск примеров без установки библиотек

Если вы не хотите устанавливать библиотеки, вы можете запустить примеры с помощью GHCi, указав нужные пакеты:

```bash
# Для примеров с функторами
ghci -XNoImplicitPrelude functor-tutorial/01_IntroToFunctors.hs

# Для примеров с линзами
ghci -package lens -package containers -package text -package vector lens-tutorial/01_IntroToLenses.hs
```

### Примечание о зависимостях

Примеры в этом репозитории разделены на категории:

1. **Примеры с функторами** (functor-tutorial/) - не требуют дополнительных библиотек, используют только стандартную библиотеку Haskell.
2. **Примеры с аппликативными функторами** (applicative-tutorial/) - не требуют дополнительных библиотек, используют только стандартную библиотеку Haskell.
3. **Примеры с монадами** (monad-tutorial/) - не требуют дополнительных библиотек, используют только стандартную библиотеку Haskell.
4. **Примеры с линзами** (lens-tutorial/) - требуют установки библиотеки lens и других зависимостей.

Если у вас возникают проблемы с запуском примеров с линзами, вы можете сосредоточиться на примерах с функторами, аппликативными функторами и монадами, которые не требуют дополнительных библиотек.

## Дополнительные ресурсы

- [Learn You a Haskell for Great Good!](http://learnyouahaskell.com/)
- [Real World Haskell](http://book.realworldhaskell.org/)
- [Haskell Wiki](https://wiki.haskell.org/)
- [Typeclassopedia](https://wiki.haskell.org/Typeclassopedia)
- [Документация библиотеки lens](https://hackage.haskell.org/package/lens)
