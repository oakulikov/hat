# Монады в Haskell: Учебное пособие

Это учебное пособие представляет собой введение в монады в Haskell, начиная с базовой теории и заканчивая практическими примерами использования.

## Содержание

1. [Введение в монады](01_IntroToMonads.hs) - Базовая теория и концепции монад
2. [Монады Maybe и Either](02_MaybeAndEitherMonads.hs) - Обработка ошибок с помощью монад Maybe и Either
3. [Монады List и IO](03_ListAndIOMonads.hs) - Недетерминированные вычисления и ввод-вывод
4. [Монады State и Reader](04_StateAndReaderMonads.hs) - Работа с состоянием и окружением
5. [Монада Writer и создание собственных монад](05_WriterAndCustomMonads.hs) - Логирование и создание собственных монад
6. [Трансформеры монад](06_MonadTransformers.hs) - Комбинирование монад с помощью трансформеров

## Как использовать это пособие

Каждый файл содержит подробные комментарии, объясняющие концепции и примеры кода. Рекомендуется изучать файлы по порядку, так как каждый последующий файл опирается на концепции, представленные в предыдущих.

### Запуск примеров

Чтобы запустить примеры, вам понадобится GHC (Glasgow Haskell Compiler) и интерпретатор GHCi.

#### Использование скрипта run-example.sh

Самый простой способ запустить примеры — использовать скрипт `run-example.sh`:

```bash
# Сделать скрипт исполняемым (если еще не сделано)
chmod +x run-example.sh

# Запустить пример №1 (Введение в монады)
./run-example.sh 1

# Запустить пример №2 (Монады Maybe и Either)
./run-example.sh 2
```

#### Ручной запуск

Вы также можете запустить примеры вручную:

```bash
# Использование runhaskell (без компиляции)
runhaskell 01_IntroToMonads.hs

# Или с помощью GHCi для интерактивного изучения
ghci 01_IntroToMonads.hs
```

В GHCi вы можете вызывать функции напрямую:

```haskell
*IntroToMonads> chainedDivision 10 2 5
Just 1.0

# Запуск функции main
*IntroToMonads> main
```

## Основные концепции монад

### Что такое монада?

Монада в Haskell — это тип, который реализует интерфейс `Monad`. Монады позволяют:

1. Инкапсулировать вычисления с контекстом (например, возможность сбоя, состояние, ввод-вывод)
2. Последовательно выполнять операции, сохраняя этот контекст
3. Абстрагировать шаблонный код для работы с этим контекстом

### Ключевые операции монад

1. `return` (или `pure`) — оборачивает значение в монаду
2. `>>=` (bind) — связывает монадические операции вместе

### Законы монад

Все монады должны удовлетворять трем законам:

1. Левая идентичность: `return a >>= f` ≡ `f a`
2. Правая идентичность: `m >>= return` ≡ `m`
3. Ассоциативность: `(m >>= f) >>= g` ≡ `m >>= (\x -> f x >>= g)`

## Распространенные монады

1. **Maybe** — для вычислений, которые могут завершиться неудачей
2. **List** — для недетерминированных вычислений с множеством результатов
3. **IO** — для операций ввода-вывода
4. **State** — для вычислений с изменяемым состоянием
5. **Reader** — для вычислений, которые читают значения из общего окружения
6. **Writer** — для вычислений, которые производят дополнительный вывод
7. **Either** — для вычислений, которые могут завершиться ошибкой с информацией о ней

## Дополнительные ресурсы

- [Learn You a Haskell for Great Good](http://learnyouahaskell.com/) — отличный ресурс для начинающих
- [Real World Haskell](http://book.realworldhaskell.org/) — практическое применение Haskell
- [Haskell Wiki: Monad](https://wiki.haskell.org/Monad) — подробная информация о монадах
